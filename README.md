# my-blog
next.js 14ë²„ì „ì„ ì´ìš©í•˜ì—¬ ê°œì¸ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ì–´ ë³´ë„ë¡ í•œë‹¤.
- ì‚¬ìš©ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê¸°ë¡
- íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì„ ê¸°ë¡
- ì „ë°˜ì ì¸ ê²½í—˜ì„ ê¸°ë¡
  


# ê¸°ìˆ  ìŠ¤íƒ
- next.js 14.0.4
- typescript


# Troubleshooting

## ì´ìŠˆ
```shell
src/app/page.tsx You cannot have two parallel pages that resolve to the same path. Please check /page and /(layoutCase)/page. Refer to the route group docs for more information: https://nextjs.org/docs/app/building-your-application/routing/route-groups   
```
ë¼ìš°í„° ê·¸ë£¹ìœ¼ë¡œ í´ë”ë¥¼ ìƒì„±í•˜ë©´(layoutCase) app í´ë”ì— pageê°€ ë™ì‹œì— ìˆì„ ê²½ìš° ì—ëŸ¬ê°€ ë‚˜ì˜¤ëŠ” ê²ƒ ê°™ë‹¤.
appì˜ pageë¥¼ ì‚­ì œí•˜ê³  ë¼ìš°í„° ê·¸ë£¹ì˜ pageë¥¼ ìœ ì§€ í•˜ì˜€ë‹¤.

## ì´ìŠˆ
yarn dev ëª…ë ¹ í›„ í”„ë¡œì íŠ¸ê°€ í™”ë©´ì— 3ì´ˆ ì´ìƒ ë‚˜íƒ€ì§€ ì•Šì•˜ë‹¤.
ê·¸ë¦¬ê³  í„°ë¯¸ë„ì— ì•„ë˜ì™€ ê°™ì€ ë¬¸êµ¬ê°€ ìˆ˜ì—†ì´ ë‚˜íƒ€ë‚¬ë‹¤.

```shell
Retrying 1/3...
The user aborted a request.

Retrying 1/3...
The user aborted a request.

Retrying 1/3...
The user aborted a request.

Retrying 1/3...
The user aborted a request.
```
ê²€ìƒ‰ê²°ê³¼ í•´ë‹¹ ì´ìŠˆì— ê´€í•œ ë‚´ìš©ì„ ì°¾ì„ ìˆ˜ ìˆì—ˆë‹¤. </br>
https://github.com/vercel/next.js/discussions/55734

ì•„ë˜ì™€ ê°™ì´ ìµœìƒìœ„ layoutì—ì„œ êµ¬ê¸€ í°íŠ¸ë¥¼ className={imb_plex_sans_kR.variable} ìœ¼ë¡œ ì‚¬ìš©í•œê²ƒì´ ë¬¸ì œ ê°™ì•˜ê³ 

 ğŸ“„ layout.tsx
```shell
import type { Metadata } from 'next';
import { Inter, IBM_Plex_Sans_KR } from 'next/font/google';
import './globals.css';
import './style-reset.css';

const inter = Inter({ subsets: ['latin'] });

const imb_plex_sans_kR = IBM_Plex_Sans_KR({
  weight: ['400', '500', '600', '700'],
  variable: '--font-IBM_Plex_Sans_KR',
  subsets: ['latin'],
  display: 'swap',
});

export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en" className={imb_plex_sans_kR.variable}>
      <head>
        <link
          rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        />
      </head>
      <body className={inter.className}>{children}</body>
    </html>
  );
}

```

êµ¬ê¸€ í°íŠ¸ì—ì„œ ì‚¬ìš©í•˜ê³  ìˆëŠ” í°íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œ í•˜ì—¬ ì›¹í°íŠ¸ woffë¡œ ë³€í™˜í›„ì— 
global.cssì—ì„œ @font-faceë¥¼ ì‚¬ìš©í•˜ì˜€ë”ë‹ˆ í•´ê²° ë˜ì—ˆë‹¤.


 ğŸ“„ global.css
 ```shell
  @font-face {
    font-family: 'IBM Plex Sans KR';
    src: url('/fonts/IBMPlexSansKR-Medium.woff') format('woff');
  }
```

```shell
body {
  font-family: 'IBM Plex Sans KR', sans-serif;
}
```

## ì´ìŠˆ
TypeError: Cannot read properties of undefined (reading 'getItem') </br>
    at eval (_component/contexts/PostContextProvider.tsx:351:48)</br>
    at PostContextProvider (_component/contexts/PostContextProvider.tsx:350:84)</br>
 > 353 |</br>
   354 |   const [postList, setPostList] = useState(() => {</br>
   355 |     const storedData = global?.localStorage.getItem('postListData');</br>
       |                                            ^</br>
   356 |     return storedData ? JSON.parse(storedData) : initialValue;</br>
   357 |   });</br>
   358 |</br>


ReferenceError: localStorage is not defined ì˜¤ë¥˜ëŠ” Next.jsì—ì„œ ì„œë²„ ì¸¡ ë Œë”ë§(SSR)ìœ¼ë¡œ ì¸í•´ ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œì—ì„œëŠ” ë¸Œë¼ìš°ì € APIë“¤ì— ì ‘ê·¼í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë¼ê³  í•œë‹¤.

```shell
import { useEffect, useState } from 'react';

const PostContextProvider = () => {
  const initialValue = /* your initial value */;
  
  const [postList, setPostList] = useState(() => {
    if (typeof window !== 'undefined') {
      const storedData = localStorage.getItem('postListData');
      return storedData ? JSON.parse(storedData) : initialValue;
    } else {
      return initialValue;
    }
  });

  useEffect(() => {
    if (typeof window !== 'undefined') {
      localStorage.setItem('postListData', JSON.stringify(postList));
    }
  }, [postList]);


  return (
    // ì»¨í…ìŠ¤íŠ¸ ì œê³µì ë°˜í™˜...
  );
};

export default PostContextProvider;
```

ìœ„ì™€ ê°™ì´ ì½”ë“œë¥¼ ë³€ê²½í•˜ì—¬ ì‹œë„ í•˜ì˜€ìœ¼ë‚˜ í•´ê²° ë˜ì§€ ì•Šì•˜ê³  ì•„ë˜ì™€ ê°™ì´ ë³€ê²½ í›„ í•´ê²° ë˜ì—ˆë‹¤.

```shell
export default function PostContextProvider({ children }: Props) {
  const [isFetching, setIsFetching] = useState(false);

  const initialValue = /* your initial value */;

  const [postList, setPostList] = useState(() => {
    const storedData = global?.localStorage?.getItem('postListData');
    return storedData ? JSON.parse(storedData) : initialValue;
  });


  useEffect(() => {
    global?.localStorage.setItem('postListData', JSON.stringify(postList));
  }, [postList]);


  return (
     // ì»¨í…ìŠ¤íŠ¸ ì œê³µì ë°˜í™˜...
  );
}

```

ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì ‘ê·¼ í• ë•Œ localStorage.getItem('postListData')ë¡œ ì ‘ê·¼ í•˜ë˜ ê²ƒì„ global?.localStorage?.getItem('postListData'); ë³€ê²½í•´ ì£¼ë‹ˆ í•´ê²° ë˜ì—ˆë‹¤.
[ì°¸ê³ ] https://github.com/vercel/next.js/issues/57686


